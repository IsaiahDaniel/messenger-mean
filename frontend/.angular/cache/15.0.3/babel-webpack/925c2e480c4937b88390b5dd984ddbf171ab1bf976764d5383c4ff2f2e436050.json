{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/http.service\";\nimport * as i2 from \"@angular/material/expansion\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/common\";\nfunction PostsListComponent_div_0_mat_expansion_panel_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-expansion-panel\", 4);\n    i0.ɵɵlistener(\"opened\", function PostsListComponent_div_0_mat_expansion_panel_2_Template_mat_expansion_panel_opened_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.panelOpenState = true);\n    })(\"closed\", function PostsListComponent_div_0_mat_expansion_panel_2_Template_mat_expansion_panel_closed_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.panelOpenState = false);\n    });\n    i0.ɵɵelementStart(1, \"mat-expansion-panel-header\")(2, \"mat-panel-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-action-row\")(7, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function PostsListComponent_div_0_mat_expansion_panel_2_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const post_r3 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.deletePost(post_r3._id));\n    });\n    i0.ɵɵtext(8, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 6);\n    i0.ɵɵtext(10, \"Edit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const post_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(post_r3.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(post_r3.content);\n  }\n}\nfunction PostsListComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"mat-accordion\");\n    i0.ɵɵtemplate(2, PostsListComponent_div_0_mat_expansion_panel_2_Template, 11, 2, \"mat-expansion-panel\", 3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.posts);\n  }\n}\nfunction PostsListComponent_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 7);\n    i0.ɵɵtext(1, \"No Posts yet\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class PostsListComponent {\n  constructor(http) {\n    this.http = http;\n    this.panelOpenState = false;\n    this.posts = [];\n  }\n  ngOnInit() {\n    this.getPosts();\n  }\n  getPosts() {\n    this.http.get(\"posts\", data => {\n      if (data.success) {\n        this.posts = data.data;\n      }\n    });\n  }\n  deletePost(id) {\n    this.http.delete(`posts/`);\n  }\n}\nPostsListComponent.ɵfac = function PostsListComponent_Factory(t) {\n  return new (t || PostsListComponent)(i0.ɵɵdirectiveInject(i1.HttpService));\n};\nPostsListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PostsListComponent,\n  selectors: [[\"app-posts-list\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[\"class\", \"container\", 4, \"ngIf\"], [1, \"container\"], [\"class\", \"text-center\", 4, \"ngIf\"], [3, \"opened\", \"closed\", 4, \"ngFor\", \"ngForOf\"], [3, \"opened\", \"closed\"], [\"mat-button\", \"\", \"color\", \"accent\", 3, \"click\"], [\"mat-button\", \"\", \"color\", \"primary\"], [1, \"text-center\"]],\n  template: function PostsListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, PostsListComponent_div_0_Template, 3, 1, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵtemplate(2, PostsListComponent_p_2_Template, 2, 0, \"p\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.posts.length);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.posts.length);\n    }\n  },\n  dependencies: [i2.MatAccordion, i2.MatExpansionPanel, i2.MatExpansionPanelActionRow, i2.MatExpansionPanelHeader, i2.MatExpansionPanelTitle, i3.MatButton, i4.NgForOf, i4.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAEIA,8CAIC;IAHCA;MAAAA;MAAA;MAAA,8CAA2B,IAAI;IAAA,EAAC;MAAAA;MAAA;MAAA,8CACL,KAAK;IAAA,EADA;IAIhCA,kDAA4B;IACTA,YAAgB;IAAAA,iBAAkB;IAGrDA,yBAAG;IAAAA,YAAkB;IAAAA,iBAAI;IACzBA,sCAAgB;IACoBA;MAAA;MAAA;MAAA;MAAA,OAASA,6CAAoB;IAAA,EAAC;IAACA,sBAAM;IAAAA,iBAAS;IAChFA,iCAAmC;IAAAA,qBAAI;IAAAA,iBAAS;;;;IAN/BA,eAAgB;IAAhBA,mCAAgB;IAGhCA,eAAkB;IAAlBA,qCAAkB;;;;;IAX3BA,8BAA4C;IAExCA,0GAcsB;IACxBA,iBAAgB;;;;IAZKA,eAAQ;IAARA,sCAAQ;;;;;IAgB7BA,4BAA6C;IAAAA,4BAAY;IAAAA,iBAAI;;;ACZ/D,OAAM,MAAOC,kBAAkB;EAK7BC,YAAoBC,IAAiB;IAAjB,SAAI,GAAJA,IAAI;IAJxB,mBAAc,GAAG,KAAK;IAEtB,UAAK,GAAW,EAAE;EAEqB;EAEvCC,QAAQ;IACN,IAAI,CAACC,QAAQ,EAAE;EACjB;EAEAA,QAAQ;IACN,IAAI,CAACF,IAAI,CAACG,GAAG,CAAC,OAAO,EAAGC,IAAS,IAAI;MACnC,IAAGA,IAAI,CAACC,OAAO,EAAC;QACd,IAAI,CAACC,KAAK,GAAGF,IAAI,CAACA,IAAI;;IAE1B,CAAC,CAAC;EACJ;EAEAG,UAAU,CAACC,EAAU;IACnB,IAAI,CAACR,IAAI,CAACS,MAAM,CAAC,QAAQ,CAAG;EAC9B;;AArBWX,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAY;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT/BjB,mEAkBM;MAENA,8BAAuB;MACrBA,+DAA6D;MAC/DA,iBAAM;;;MAtBkBA,uCAAkB;MAqBpCA,eAAmB;MAAnBA,wCAAmB","names":["i0","PostsListComponent","constructor","http","ngOnInit","getPosts","get","data","success","posts","deletePost","id","delete","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/mac/Documents/messages-social/frontend/src/app/components/posts-list/posts-list.component.html","/Users/mac/Documents/messages-social/frontend/src/app/components/posts-list/posts-list.component.ts"],"sourcesContent":["<div class=\"container\" *ngIf=\"posts.length\">\n  <mat-accordion>\n    <mat-expansion-panel\n      (opened)=\"panelOpenState = true\"\n      (closed)=\"panelOpenState = false\"\n      *ngFor=\"let post of posts\"\n    >\n      <mat-expansion-panel-header>\n        <mat-panel-title>{{ post.title }}</mat-panel-title>\n        <!-- <mat-panel-description> Post Description </mat-panel-description> -->\n      </mat-expansion-panel-header>\n      <p>{{ post.content }}</p>\n      <mat-action-row>\n        <button mat-button color=\"accent\" (click)=\"deletePost(post._id)\">Delete</button>\n        <button mat-button color=\"primary\">Edit</button>\n      </mat-action-row>\n    </mat-expansion-panel>\n  </mat-accordion>\n</div>\n\n<div class=\"container\">\n  <p *ngIf=\"!posts.length\" class=\"text-center\">No Posts yet</p>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { Post } from 'src/app/interfaces/posts.model';\nimport { HttpService } from 'src/app/services/http.service';\n\n@Component({\n  selector: 'app-posts-list',\n  templateUrl: './posts-list.component.html',\n  styleUrls: ['./posts-list.component.scss']\n})\nexport class PostsListComponent implements OnInit {\n  panelOpenState = false;\n\n  posts: Post[] = [];\n\n  constructor(private http: HttpService){}\n\n  ngOnInit(): void {\n    this.getPosts();  \n  }\n\n  getPosts(){\n    this.http.get(\"posts\", (data: any) => {\n      if(data.success){\n        this.posts = data.data;\n      }\n    })\n  }\n\n  deletePost(id: string){\n    this.http.delete(`posts/`, )\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}